<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matematik O'yinlar - Bolalar uchun</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeInDown 0.8s;
        }

        header h1 {
            font-size: 3em;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .filter-section {
            background: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            animation: fadeIn 1s;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transform: scale(1.05);
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: fadeInUp 0.6s;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .game-icon {
            font-size: 3em;
            margin-bottom: 15px;
            text-align: center;
        }

        .game-card h3 {
            color: #764ba2;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .game-card p {
            color: #666;
            line-height: 1.6;
            font-size: 0.95em;
        }

        .grade-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            margin-top: 10px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #764ba2;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            animation: fadeIn 0.3s;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 30px;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            width: 90%;
            animation: slideIn 0.4s;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 2em;
            cursor: pointer;
            color: #764ba2;
            transition: all 0.3s;
        }

        .close-btn:hover {
            transform: rotate(90deg);
            color: #f5576c;
        }

        .game-content {
            text-align: center;
        }

        .game-area {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 20px 0;
        }

        .question {
            font-size: 2.5em;
            color: #764ba2;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .answer-input {
            font-size: 1.8em;
            padding: 15px;
            border: 3px solid #764ba2;
            border-radius: 15px;
            width: 200px;
            text-align: center;
            margin: 15px;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.2em;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .score {
            font-size: 1.5em;
            color: #764ba2;
            margin: 15px 0;
            font-weight: bold;
        }

        .feedback {
            font-size: 1.8em;
            margin: 20px 0;
            font-weight: bold;
            min-height: 50px;
        }

        .correct {
            color: #38ef7d;
            animation: bounce 0.5s;
        }

        .incorrect {
            color: #f5576c;
            animation: shake 0.5s;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .option-btn {
            padding: 20px;
            font-size: 1.5em;
            border: 3px solid #764ba2;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .option-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
        }

        .option-btn.correct-choice {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .option-btn.wrong-choice {
            background: linear-gradient(135deg, #f5576c 0%, #ff6b9d 100%);
            color: white;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                transform: translate(-50%, -60%);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%);
                opacity: 1;
            }
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .games-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 20px;
            }

            .question {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ Matematik O'yinlar üé≤</h1>
            <p>Matematikani o'yin orqali o'rganamiz!</p>
        </header>

        <div class="filter-section">
            <div class="filter-buttons">
                <button class="filter-btn active" data-grade="all">Barcha O'yinlar</button>
                <button class="filter-btn" data-grade="1">1-sinf</button>
                <button class="filter-btn" data-grade="2">2-sinf</button>
                <button class="filter-btn" data-grade="3">3-sinf</button>
                <button class="filter-btn" data-grade="4">4-sinf</button>
            </div>
        </div>

        <div class="games-grid" id="gamesGrid"></div>
    </div>

    <footer style="background: white; padding: 30px; border-radius: 20px; margin-top: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center;">
        <div style="color: #764ba2; font-size: 1.1em; line-height: 1.8; font-weight: 500;">
            <p style="margin-bottom: 10px;">üìö <strong>Nizomiy nomidagi O'zbekiston milliy pedagogika Universiteti</strong></p>
            <p style="margin-bottom: 10px;">üéì Maktabgacha va Boshlang'ich ta'lim fakulteti</p>
            <p style="margin-bottom: 10px;">üìñ Boshlang'ich ta'lim yo'nalishi sirtqi 406-guruh</p>
            <p style="font-size: 1.2em; color: #f5576c; margin-top: 15px;">
                <strong>üë©‚Äçüéì Talaba: Hayitboyeva Ho'vvajon</strong>
            </p>
        </div>
        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #764ba2; color: #666; font-size: 0.95em;">
            <p>¬© 2024 Matematik O'yinlar | Barcha huquqlar himoyalangan</p>
        </div>
    </footer>

    <div class="modal" id="gameModal">
        <div class="modal-content">
            <span class="close-btn" id="closeBtn">&times;</span>
            <div class="game-content" id="gameContent"></div>
        </div>
    </div>

    <script>
        const games = [
            { id: 1, name: "Raqamlarni toping", icon: "üî¢", grade: 1, type: "input", max: 10 },
            { id: 2, name: "Oddiy qo'shish", icon: "‚ûï", grade: 1, type: "input", max: 10 },
            { id: 3, name: "Ayirish o'yini", icon: "‚ûñ", grade: 1, type: "input", max: 10 },
            { id: 4, name: "Katta-kichik", icon: "üîº", grade: 1, type: "choice" },
            { id: 5, name: "Sonlarni sanang", icon: "üßÆ", grade: 1, type: "count" },
            { id: 6, name: "Juft yoki toq", icon: "üéØ", grade: 1, type: "choice" },
            { id: 7, name: "Ketma-ketlik", icon: "üìä", grade: 1, type: "input", max: 10 },
            { id: 8, name: "10 gacha qo'shish", icon: "üé®", grade: 1, type: "input", max: 10 },
            { id: 9, name: "Raqamlarni taqqoslash", icon: "‚öñÔ∏è", grade: 1, type: "choice" },
            { id: 10, name: "Birinchi 5 ta", icon: "‚úã", grade: 1, type: "input", max: 5 },
            { id: 11, name: "Qo'shishni toping", icon: "üîç", grade: 1, type: "input", max: 10 },
            { id: 12, name: "Sonlar safari", icon: "ü¶Å", grade: 1, type: "count" },
            { id: 13, name: "Shakllar va sonlar", icon: "üî∑", grade: 1, type: "count" },
            { id: 14, name: "Raqamli bingo", icon: "üé∞", grade: 1, type: "choice" },
            { id: 15, name: "Tez hisoblash", icon: "‚ö°", grade: 1, type: "input", max: 10 },
            { id: 16, name: "Ranglar va sonlar", icon: "üåà", grade: 1, type: "input", max: 10 },
            { id: 17, name: "Mevalar matematik", icon: "üçé", grade: 1, type: "count" },
            { id: 18, name: "Matematik xazina", icon: "üíé", grade: 1, type: "input", max: 10 },
            { id: 19, name: "Sharlar o'yini", icon: "‚öΩ", grade: 1, type: "choice" },
            { id: 20, name: "Sonli yo'l", icon: "üõ£Ô∏è", grade: 1, type: "input", max: 10 },
            
            { id: 21, name: "Ko'paytirish jadvali", icon: "‚úñÔ∏è", grade: 2, type: "multiply", max: 5 },
            { id: 22, name: "Bo'lish o'yini", icon: "‚ûó", grade: 2, type: "divide", max: 20 },
            { id: 23, name: "20 gacha qo'shish", icon: "üé™", grade: 2, type: "input", max: 20 },
            { id: 24, name: "Matematik estafeta", icon: "üèÉ", grade: 2, type: "input", max: 20 },
            { id: 25, name: "Sonli piramida", icon: "üî∫", grade: 2, type: "input", max: 20 },
            { id: 26, name: "Tez ko'paytirish", icon: "‚ö°", grade: 2, type: "multiply", max: 5 },
            { id: 27, name: "Matematik domino", icon: "üé¥", grade: 2, type: "choice" },
            { id: 28, name: "Sonlar poygasi", icon: "üèéÔ∏è", grade: 2, type: "input", max: 20 },
            { id: 29, name: "Juft ko'paytma", icon: "üëØ", grade: 2, type: "choice" },
            { id: 30, name: "Matematik labirint", icon: "üåÄ", grade: 2, type: "input", max: 20 },
            { id: 31, name: "50 gacha sonlar", icon: "5Ô∏è‚É£0Ô∏è‚É£", grade: 2, type: "input", max: 50 },
            { id: 32, name: "Ko'paytirish zanjiri", icon: "üîó", grade: 2, type: "multiply", max: 5 },
            { id: 33, name: "Sonli krossvord", icon: "üìã", grade: 2, type: "input", max: 20 },
            { id: 34, name: "Tezlik testi", icon: "‚è±Ô∏è", grade: 2, type: "input", max: 20 },
            { id: 35, name: "Matematik yulduzlar", icon: "‚≠ê", grade: 2, type: "count" },
            { id: 36, name: "Sonli qo'shiq", icon: "üéµ", grade: 2, type: "choice" },
            { id: 37, name: "Hayvonlar fermasi", icon: "üêÑ", grade: 2, type: "count" },
            { id: 38, name: "Tangalar o'yini", icon: "ü™ô", grade: 2, type: "input", max: 50 },
            { id: 39, name: "Matematik sirk", icon: "üé™", grade: 2, type: "choice" },
            { id: 40, name: "Sonlar bahori", icon: "üå∏", grade: 2, type: "count" },
            
            { id: 41, name: "100 gacha amallar", icon: "üíØ", grade: 3, type: "input", max: 100 },
            { id: 42, name: "To'liq ko'paytirish", icon: "‚úñÔ∏è", grade: 3, type: "multiply", max: 10 },
            { id: 43, name: "Murakkab masalalar", icon: "üß©", grade: 3, type: "word" },
            { id: 44, name: "Aralash amallar", icon: "üîÑ", grade: 3, type: "mixed" },
            { id: 45, name: "Kasr bilan tanishuv", icon: "üçï", grade: 3, type: "fraction" },
            { id: 46, name: "O'lchov birliklari", icon: "üìè", grade: 3, type: "choice" },
            { id: 47, name: "Vaqt hisobi", icon: "‚è∞", grade: 3, type: "choice" },
            { id: 48, name: "Perimetr topish", icon: "üìê", grade: 3, type: "perimeter" },
            { id: 49, name: "Yuzani hisoblash", icon: "‚ñ¢", grade: 3, type: "area" },
            { id: 50, name: "Matematik detektiv", icon: "üîç", grade: 3, type: "input", max: 100 },
            { id: 51, name: "Pul hisobi", icon: "üíµ", grade: 3, type: "input", max: 1000 },
            { id: 52, name: "Geometrik shakllar", icon: "üî∂", grade: 3, type: "choice" },
            { id: 53, name: "Jadval to'ldirish", icon: "üìä", grade: 3, type: "input", max: 100 },
            { id: 54, name: "Sonli tengsizliklar", icon: "‚â†", grade: 3, type: "choice" },
            { id: 55, name: "Mintaqa masalalari", icon: "üó∫Ô∏è", grade: 3, type: "word" },
            { id: 56, name: "Grafik o'qish", icon: "üìà", grade: 3, type: "choice" },
            { id: 57, name: "Tezlik masalalari", icon: "üöÑ", grade: 3, type: "word" },
            { id: 58, name: "Foizlar bilan tanishuv", icon: "üìä", grade: 3, type: "percent" },
            { id: 59, name: "Matematik olimpiada", icon: "üèÜ", grade: 3, type: "mixed" },
            { id: 60, name: "Sonli jumboq", icon: "üé≠", grade: 3, type: "input", max: 100 },
            
            { id: 61, name: "1000 gacha amallar", icon: "üéØ", grade: 4, type: "input", max: 1000 },
            { id: 62, name: "Murakkab ko'paytirish", icon: "‚úñÔ∏è", grade: 4, type: "multiply", max: 20 },
            { id: 63, name: "Ustunli bo'lish", icon: "‚ûó", grade: 4, type: "divide", max: 100 },
            { id: 64, name: "Kasrlar amalllari", icon: "üç∞", grade: 4, type: "fraction" },
            { id: 65, name: "O'nli kasrlar", icon: "üìç", grade: 4, type: "decimal" },
            { id: 66, name: "Hajm hisobi", icon: "üì¶", grade: 4, type: "volume" },
            { id: 67, name: "Doira bilan ishlash", icon: "‚≠ï", grade: 4, type: "circle" },
            { id: 68, name: "Proporsiya", icon: "‚öñÔ∏è", grade: 4, type: "proportion" },
            { id: 69, name: "Foizlar hisobi", icon: "üíπ", grade: 4, type: "percent" },
            { id: 70, name: "Masshtab", icon: "üó∫Ô∏è", grade: 4, type: "choice" },
            { id: 71, name: "Koordinata tekisligi", icon: "üìç", grade: 4, type: "choice" },
            { id: 72, name: "Statistika asoslari", icon: "üìä", grade: 4, type: "average" },
            { id: 73, name: "Mantiqiy masalalar", icon: "üß†", grade: 4, type: "word" },
            { id: 74, name: "Tenglama yeching", icon: "üî¢", grade: 4, type: "equation" },
            { id: 75, name: "Progressiya", icon: "üìà", grade: 4, type: "sequence" },
            { id: 76, name: "Kombinatorika", icon: "üé≤", grade: 4, type: "choice" },
            { id: 77, name: "Ehtimollik", icon: "üé∞", grade: 4, type: "choice" },
            { id: 78, name: "Murakkab masalalar", icon: "üèîÔ∏è", grade: 4, type: "word" },
            { id: 79, name: "Tezkor hisoblash", icon: "‚ö°", grade: 4, type: "input", max: 100 },
            { id: 80, name: "Matematik turnir", icon: "üèÜ", grade: 4, type: "mixed" },
            
            { id: 81, name: "Matematik memory", icon: "üß†", grade: 1, type: "choice" },
            { id: 82, name: "Raqamli yo'lak", icon: "üõ§Ô∏è", grade: 2, type: "input", max: 20 },
            { id: 83, name: "Sonlar botqog'i", icon: "üêä", grade: 1, type: "choice" },
            { id: 84, name: "Kosmik matematik", icon: "üöÄ", grade: 3, type: "input", max: 100 },
            { id: 85, name: "Dengiz sarguzashti", icon: "‚öì", grade: 2, type: "input", max: 50 },
            { id: 86, name: "Qal'a qurish", icon: "üè∞", grade: 3, type: "input", max: 100 },
            { id: 87, name: "Gulzor matematik", icon: "üå∫", grade: 1, type: "count" },
            { id: 88, name: "Muzqaymoq do'koni", icon: "üç¶", grade: 2, type: "input", max: 20 },
            { id: 89, name: "Robot dasturchi", icon: "ü§ñ", grade: 4, type: "sequence" },
            { id: 90, name: "Dinozavrlar davri", icon: "ü¶ï", grade: 1, type: "count" },
            { id: 91, name: "Piyodalar yo'li", icon: "üö∂", grade: 2, type: "input", max: 50 },
            { id: 92, name: "Baliqchilik", icon: "üé£", grade: 2, type: "count" },
            { id: 93, name: "Qushlar migratsiyasi", icon: "ü¶Ö", grade: 3, type: "input", max: 100 },
            { id: 94, name: "Planetalar sayohati", icon: "ü™ê", grade: 4, type: "input", max: 1000 },
            { id: 95, name: "Kitoblar kutubxonasi", icon: "üìö", grade: 3, type: "input", max: 100 },
            { id: 96, name: "Dasturxon matematik", icon: "üçΩÔ∏è", grade: 2, type: "choice" },
            { id: 97, name: "Shahzoda va malika", icon: "üëë", grade: 1, type: "choice" },
            { id: 98, name: "Futbol statistika", icon: "‚öΩ", grade: 4, type: "average" },
            { id: 99, name: "Bog'bon o'yini", icon: "üë®‚Äçüåæ", grade: 2, type: "count" },
            { id: 100, name: "Yulduzlar kechasi", icon: "üåü", grade: 3, type: "count" }
        ];

        let currentGame = null;
        let score = 0;
        let questionCount = 0;
        let currentAnswer = 0;

        // Render o'yinlar
        function renderGames(filteredGames) {
            const grid = document.getElementById('gamesGrid');
            grid.innerHTML = '';
            
            filteredGames.forEach(game => {
                const card = document.createElement('div');
                card.className = 'game-card';
                card.innerHTML = `
                    <div class="game-icon">${game.icon}</div>
                    <h3>${game.name}</h3>
                    <span class="grade-badge">${game.grade}-sinf</span>
                `;
                card.onclick = () => openGame(game);
                grid.appendChild(card);
            });
        }

        // Filter buttonlari
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const grade = this.dataset.grade;
                const filtered = grade === 'all' ? games : games.filter(g => g.grade == grade);
                renderGames(filtered);
            });
        });

        // O'yinni ochish
        function openGame(game) {
            currentGame = game;
            score = 0;
            questionCount = 0;
            document.getElementById('gameModal').style.display = 'block';
            generateQuestion();
        }

        // Modal yopish
        document.getElementById('closeBtn').onclick = function() {
            document.getElementById('gameModal').style.display = 'none';
        }

        window.onclick = function(e) {
            if (e.target == document.getElementById('gameModal')) {
                document.getElementById('gameModal').style.display = 'none';
            }
        }

        // Savol generatsiya qilish
        function generateQuestion() {
            const content = document.getElementById('gameContent');
            let html = `<h2>${currentGame.icon} ${currentGame.name}</h2>`;
            html += `<div class="score">Ball: ${score} / ${questionCount}</div>`;
            html += `<div class="game-area">`;

            switch(currentGame.type) {
                case 'input':
                    html += generateInputQuestion();
                    break;
                case 'choice':
                    html += generateChoiceQuestion();
                    break;
                case 'multiply':
                    html += generateMultiplyQuestion();
                    break;
                case 'divide':
                    html += generateDivideQuestion();
                    break;
                case 'count':
                    html += generateCountQuestion();
                    break;
                case 'mixed':
                    html += generateMixedQuestion();
                    break;
                case 'word':
                    html += generateWordProblem();
                    break;
                case 'fraction':
                    html += generateFractionQuestion();
                    break;
                case 'decimal':
                    html += generateDecimalQuestion();
                    break;
                case 'perimeter':
                    html += generatePerimeterQuestion();
                    break;
                case 'area':
                    html += generateAreaQuestion();
                    break;
                case 'volume':
                    html += generateVolumeQuestion();
                    break;
                case 'circle':
                    html += generateCircleQuestion();
                    break;
                case 'proportion':
                    html += generateProportionQuestion();
                    break;
                case 'percent':
                    html += generatePercentQuestion();
                    break;
                case 'average':
                    html += generateAverageQuestion();
                    break;
                case 'equation':
                    html += generateEquationQuestion();
                    break;
                case 'sequence':
                    html += generateSequenceQuestion();
                    break;
            }

            html += `</div>`;
            html += `<div class="feedback" id="feedback"></div>`;
            html += `<button class="btn btn-success" onclick="generateQuestion()">Keyingi savol</button>`;
            
            content.innerHTML = html;
        }

        // Input tipidagi savol
        function generateInputQuestion() {
            const max = currentGame.max || 10;
            const a = Math.floor(Math.random() * max) + 1;
            const b = Math.floor(Math.random() * (a)) + 1;
            const op = Math.random() > 0.5 ? '+' : '-';
            
            if (op === '+') {
                currentAnswer = a + b;
                return `
                    <div class="question">${a} + ${b} = ?</div>
                    <input type="number" id="answer" class="answer-input" placeholder="Javob">
                    <br>
                    <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
                `;
            } else {
                currentAnswer = a;
                return `
                    <div class="question">${a + b} - ${b} = ?</div>
                    <input type="number" id="answer" class="answer-input" placeholder="Javob">
                    <br>
                    <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
                `;
            }
        }

        // Ko'paytirish
        function generateMultiplyQuestion() {
            const max = currentGame.max || 5;
            const a = Math.floor(Math.random() * max) + 2;
            const b = Math.floor(Math.random() * max) + 2;
            currentAnswer = a * b;
            
            return `
                <div class="question">${a} √ó ${b} = ?</div>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Bo'lish
        function generateDivideQuestion() {
            const max = currentGame.max || 20;
            const b = Math.floor(Math.random() * 8) + 2;
            const result = Math.floor(Math.random() * 10) + 1;
            const a = b * result;
            currentAnswer = result;
            
            return `
                <div class="question">${a} √∑ ${b} = ?</div>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Sanash
        function generateCountQuestion() {
            const count = Math.floor(Math.random() * 10) + 1;
            const emojis = ['üçé', '‚≠ê', 'üå∏', 'üê∂', '‚öΩ', 'üéà', 'üçï', 'ü¶ã'];
            const emoji = emojis[Math.floor(Math.random() * emojis.length)];
            currentAnswer = count;
            
            let items = '';
            for(let i = 0; i < count; i++) {
                items += emoji + ' ';
            }
            
            return `
                <div class="question">Nechta ${emoji} bor?</div>
                <div style="font-size: 2em; margin: 20px;">${items}</div>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Tanlov
        function generateChoiceQuestion() {
            const types = ['compare', 'even', 'bigger'];
            const type = types[Math.floor(Math.random() * types.length)];
            
            if (type === 'compare') {
                const a = Math.floor(Math.random() * 20) + 1;
                const b = Math.floor(Math.random() * 20) + 1;
                currentAnswer = a > b ? '>' : (a < b ? '<' : '=');
                
                return `
                    <div class="question">${a} ___ ${b}</div>
                    <div class="options-grid">
                        <button class="option-btn" onclick="checkChoice('>')">></button>
                        <button class="option-btn" onclick="checkChoice('<')"><</button>
                        <button class="option-btn" onclick="checkChoice('=')">=</button>
                    </div>
                `;
            } else if (type === 'even') {
                const num = Math.floor(Math.random() * 30) + 1;
                currentAnswer = num % 2 === 0 ? 'juft' : 'toq';
                
                return `
                    <div class="question">${num} - Juft yoki Toq?</div>
                    <div class="options-grid">
                        <button class="option-btn" onclick="checkChoice('juft')">Juft</button>
                        <button class="option-btn" onclick="checkChoice('toq')">Toq</button>
                    </div>
                `;
            } else {
                const a = Math.floor(Math.random() * 50) + 1;
                const b = Math.floor(Math.random() * 50) + 1;
                currentAnswer = a > b ? a : b;
                
                return `
                    <div class="question">Qaysi son katta?</div>
                    <div class="options-grid">
                        <button class="option-btn" onclick="checkChoice(${a})">${a}</button>
                        <button class="option-btn" onclick="checkChoice(${b})">${b}</button>
                    </div>
                `;
            }
        }

        // Aralash amallar
        function generateMixedQuestion() {
            const a = Math.floor(Math.random() * 20) + 1;
            const b = Math.floor(Math.random() * 10) + 1;
            const c = Math.floor(Math.random() * 10) + 1;
            const ops = ['+', '-', '√ó'];
            const op1 = ops[Math.floor(Math.random() * ops.length)];
            const op2 = ops[Math.floor(Math.random() * ops.length)];
            
            let result = a;
            if (op1 === '+') result += b;
            else if (op1 === '-') result -= b;
            else result *= b;
            
            if (op2 === '+') result += c;
            else if (op2 === '-') result -= c;
            else result *= c;
            
            currentAnswer = result;
            
            return `
                <div class="question">${a} ${op1} ${b} ${op2} ${c} = ?</div>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // So'z masalalari
        function generateWordProblem() {
            const problems = [
                { text: "Ali–¥–∞ 15 ta olma bor edi. U 7 ta berdi. Nechta olma qoldi?", answer: 8 },
                { text: "Do'konda 23 ta kitob bor. Yana 12 ta keltirdi. Jami nechta?", answer: 35 },
                { text: "Bog'da 30 ta daraxt bor. 18 tasi olma daraxti. Qolganlari?", answer: 12 },
                { text: "Sinifda 25 o'quvchi bor. 13 tasi qiz. Nechta o'g'il bola?", answer: 12 },
                { text: "Fermada 40 ta tovuq bor. 16 tasini sotdi. Nechta qoldi?", answer: 24 }
            ];
            
            const problem = problems[Math.floor(Math.random() * problems.length)];
            currentAnswer = problem.answer;
            
            return `
                <div class="question" style="font-size: 1.5em;">${problem.text}</div>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Kasrlar
        function generateFractionQuestion() {
            const numerator = Math.floor(Math.random() * 5) + 1;
            const denominator = Math.floor(Math.random() * 5) + 2;
            const num2 = Math.floor(Math.random() * 5) + 1;
            
            currentAnswer = numerator + num2;
            
            return `
                <div class="question">${numerator}/${denominator} + ${num2}/${denominator} = ?/${denominator}</div>
                <p>Faqat suratni toping:</p>
                <input type="number" id="answer" class="answer-input" placeholder="Surat">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // O'nli kasrlar
        function generateDecimalQuestion() {
            const a = (Math.floor(Math.random() * 50) + 1) / 10;
            const b = (Math.floor(Math.random() * 50) + 1) / 10;
            currentAnswer = Math.round((a + b) * 10) / 10;
            
            return `
                <div class="question">${a} + ${b} = ?</div>
                <input type="number" step="0.1" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Perimetr
        function generatePerimeterQuestion() {
            const a = Math.floor(Math.random() * 10) + 3;
            const b = Math.floor(Math.random() * 10) + 3;
            currentAnswer = 2 * (a + b);
            
            return `
                <div class="question">To'rtburchak perimetri?</div>
                <p>Uzunlik: ${a} sm, Eni: ${b} sm</p>
                <input type="number" id="answer" class="answer-input" placeholder="Javob (sm)">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Yuza
        function generateAreaQuestion() {
            const a = Math.floor(Math.random() * 10) + 2;
            const b = Math.floor(Math.random() * 10) + 2;
            currentAnswer = a * b;
            
            return `
                <div class="question">To'rtburchak yuzasi?</div>
                <p>Uzunlik: ${a} sm, Eni: ${b} sm</p>
                <input type="number" id="answer" class="answer-input" placeholder="Javob (sm¬≤)">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Hajm
        function generateVolumeQuestion() {
            const a = Math.floor(Math.random() * 8) + 2;
            const b = Math.floor(Math.random() * 8) + 2;
            const c = Math.floor(Math.random() * 8) + 2;
            currentAnswer = a * b * c;
            
            return `
                <div class="question">Parallelepipedning hajmi?</div>
                <p>Uzunlik: ${a}, Eni: ${b}, Balandlik: ${c}</p>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Doira
        function generateCircleQuestion() {
            const r = Math.floor(Math.random() * 10) + 2;
            const type = Math.random() > 0.5;
            
            if (type) {
                currentAnswer = Math.round(2 * 3.14 * r * 10) / 10;
                return `
                    <div class="question">Doira uzunligi? (œÄ ‚âà 3.14)</div>
                    <p>Radius: ${r} sm</p>
                    <input type="number" step="0.1" id="answer" class="answer-input" placeholder="Javob">
                    <br>
                    <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
                `;
            } else {
                currentAnswer = Math.round(3.14 * r * r * 10) / 10;
                return `
                    <div class="question">Doira yuzasi? (œÄ ‚âà 3.14)</div>
                    <p>Radius: ${r} sm</p>
                    <input type="number" step="0.1" id="answer" class="answer-input" placeholder="Javob">
                    <br>
                    <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
                `;
            }
        }

        // Proporsiya
        function generateProportionQuestion() {
            const a = Math.floor(Math.random() * 10) + 2;
            const b = Math.floor(Math.random() * 10) + 2;
            const c = Math.floor(Math.random() * 10) + 2;
            currentAnswer = Math.round((b * c) / a);
            
            return `
                <div class="question">${a} : ${b} = ${c} : x</div>
                <p>x ni toping:</p>
                <input type="number" id="answer" class="answer-input" placeholder="x = ?">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Foizlar
        function generatePercentQuestion() {
            const num = Math.floor(Math.random() * 100) + 10;
            const percent = [10, 20, 25, 50][Math.floor(Math.random() * 4)];
            currentAnswer = Math.round((num * percent) / 100);
            
            return `
                <div class="question">${num} ning ${percent}% i nechaga teng?</div>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // O'rtacha
        function generateAverageQuestion() {
            const nums = [];
            for(let i = 0; i < 4; i++) {
                nums.push(Math.floor(Math.random() * 20) + 5);
            }
            currentAnswer = Math.round(nums.reduce((a,b) => a+b) / nums.length);
            
            return `
                <div class="question">O'rtacha qiymat?</div>
                <p>${nums.join(', ')}</p>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Tenglama
        function generateEquationQuestion() {
            const a = Math.floor(Math.random() * 20) + 5;
            const b = Math.floor(Math.random() * 10) + 1;
            currentAnswer = a - b;
            
            return `
                <div class="question">x + ${b} = ${a}</div>
                <p>x ni toping:</p>
                <input type="number" id="answer" class="answer-input" placeholder="x = ?">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Ketma-ketlik
        function generateSequenceQuestion() {
            const start = Math.floor(Math.random() * 10) + 1;
            const step = Math.floor(Math.random() * 5) + 1;
            const seq = [start, start + step, start + 2*step];
            currentAnswer = start + 3*step;
            
            return `
                <div class="question">Keyingi son?</div>
                <p>${seq.join(', ')}, ?</p>
                <input type="number" id="answer" class="answer-input" placeholder="Javob">
                <br>
                <button class="btn btn-primary" onclick="checkAnswer()">Tekshirish</button>
            `;
        }

        // Javobni tekshirish
        function checkAnswer() {
            const input = document.getElementById('answer');
            const userAnswer = parseFloat(input.value);
            const feedback = document.getElementById('feedback');
            
            questionCount++;
            
            if (Math.abs(userAnswer - currentAnswer) < 0.1) {
                score++;
                feedback.innerHTML = 'üéâ To\'g\'ri! Ajoyib!';
                feedback.className = 'feedback correct';
            } else {
                feedback.innerHTML = `‚ùå Noto'g'ri! To'g'ri javob: ${currentAnswer}`;
                feedback.className = 'feedback incorrect';
            }
            
            document.querySelector('.score').innerHTML = `Ball: ${score} / ${questionCount}`;
        }

        // Tanlovni tekshirish
        function checkChoice(choice) {
            const feedback = document.getElementById('feedback');
            questionCount++;
            
            if (choice == currentAnswer) {
                score++;
                feedback.innerHTML = 'üéâ To\'g\'ri! Ajoyib!';
                feedback.className = 'feedback correct';
                event.target.classList.add('correct-choice');
            } else {
                feedback.innerHTML = `‚ùå Noto'g'ri! To'g'ri javob: ${currentAnswer}`;
                feedback.className = 'feedback incorrect';
                event.target.classList.add('wrong-choice');
            }
            
            document.querySelector('.score').innerHTML = `Ball: ${score} / ${questionCount}`;
            
            setTimeout(() => {
                generateQuestion();
            }, 2000);
        }

        // Enter tugmasi
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('answer')) {
                checkAnswer();
            }
        });

        // Boshlang'ich yuklash
        renderGames(games);
    </script>
</body>
</html>
